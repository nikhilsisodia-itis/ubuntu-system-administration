# Creating Users

## What is creating users in Linux?

- Creating users in Linux refers to the process of adding new user accounts to a Linux system.
- Each user account has its own unique username, password, and associated permissions that determine what actions the user can perform on the system.
- User accounts are essential for managing access to system resources and ensuring security.
- Linux supports multiple users, allowing different individuals to have their own separate environments and settings on the same machine.

## Why is creating users important?

- Security: Creating separate user accounts helps to limit access to sensitive files and system resources. Each user can have different permissions, reducing the risk of unauthorized access.
- Accountability: With individual user accounts, actions can be traced back to specific users, which is important for auditing and monitoring purposes.
- Customization: Each user can have their own settings, preferences, and files, allowing for a personalized experience.
- Resource Management: Different users can have different levels of access to system resources, helping to manage system load and performance.
- Collaboration: In multi-user environments, creating users allows multiple individuals to work on the same system without interfering with each other's files and settings.

## Understanding configuration files related to user management

### The `/etc/passwd` file

- The `/etc/passwd` file is a text file that contains essential information about user accounts on a Linux system.
- Each line in the file represents a single user account and contains several fields separated by colons.
- There are seven fields in each line in /etc/passwd directory:
  - Field 1- User's login name.
    - Example: `demo-user`
  - Field 2- User's password. Encrypted password or 'x' for shadow password. If the second field is empty, that means the user does not have to enter any password to log in.
    - Example: `x` or `*`
  - Field 3- User's ID number.
    - Example: `1001`
  - Field 4- User's group ID number.
    - Example: `1001`
  - Field 5- User's full name or comment.
    - Example: `Demo User`
  - Field 6- User's home directory.
    - Example: `/home/demo-user`
  - Field 7- User's login shell.
    - Example: `/bin/bash`

### The `/etc/shadow` file

- The `/etc/shadow` file is a text file that contains secure user account information, specifically related to passwords and account expiration.
- It is designed to enhance security by restricting access to sensitive password data.
- Each line in the file corresponds to a user account and contains several fields separated by colons.
- There are nine fields in each line in /etc/shadow directory:
  - Field 1- User's login name.
    - Example: `demo-user`
  - Field 2- User's encrypted password. If the password is locked, it will contain a special character like '!' or '*'.
    - Example: `$6$random_salt$encrypted_password`
  - Field 3- Date of the last password change, represented as the number of days since January 1, 1970.
    - Example: `18762`
  - Field 4- Minimum number of days required between password changes.
    - Example: `0`
  - Field 5- Maximum number of days the password is valid.
    - Example: `99999`
  - Field 6- Number of days before password expiration that the user is warned.
    - Example: `7`
  - Field 7- Number of days after password expiration that the account is disabled.
    - Example: `-1`
  - Field 8- Date when the account expires, represented as the number of days since January 1, 1970.
    - Example: `-1`
  - Field 9- Reserved for future use.
    - Example: (empty)

## How to create users in Linux?

- `useradd <username>`: Add a new user.
- `useradd -m <username>`: Add a new user with a home directory.
- `useradd -d <directory> <username>`: Add a new user with a specific home directory.
- `useradd -c "<comment>" <username>`: Add a new user with a comment.
- `useradd -g <groupname> <username>`: Add a new user to a specific group.
- `useradd -G <groupname> <username>`: Add a new user to a secondary group.
- `useradd -s <shell> <username>`: Add a new user with a specific shell.
- `useradd -p <password> <username>`: Add a new user with a password.
- `useradd -u <uid> <username>`: Add a new user with a specific user ID.
- `useradd -e <expiry_date> <username>`: Add a new user with an expiry date.
- `useradd -f <inactive_days> <username>`: Add a new user with an inactive days.
- `useradd -p $(openssl passwd -6 <password>) <username>`: Add a new user with a secure password.
- `useradd -e <expiry_date> -f <inactive_days> -p $(openssl passwd -6 <password>) <username>`: Add a new user with an expiry date, inactive days, and secure password.

## Creating secure passwords

### Using `passwd`

- `passwd` : Change the password for the current user.

### Using `openssl`

- `openssl passwd -6 <password>`: generate a secure password hash.
OR
- `openssl passwd -6`: Prompt you to enter the password twice without displacing it on the screen.
